{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "title": "Esquema de aprendizaje completo de EVA",
    "type": "object",
    "properties": {
        "aprendiz": {
            "type": "object",
            "properties": {
                "nombre": { "type": "string" },
                "edad": { "type": "integer" },
                "tiempo_de_aprendizaje": { "type": "string" },
                "perfil_magnus": {
                    "type": "string",
                    "schema": "MAGNUS|base64",
                    "description": "Perfil del aprendiz generado por Magnus, codificado en Base64"
                },
                "nivel": {
                    "type": "object",
                    "properties": {
                        "tecnico": {
                            "type": "object",
                            "properties": {
                                "frontend": {
                                    "type": "integer",
                                    "minimum": 0,
                                    "maximum": 100
                                },
                                "backend": {
                                    "type": "integer",
                                    "minimum": 0,
                                    "maximum": 100
                                },
                                "bases_de_datos": {
                                    "type": "integer",
                                    "minimum": 0,
                                    "maximum": 100
                                },
                                "testing": {
                                    "type": "integer",
                                    "minimum": 0,
                                    "maximum": 100
                                }
                            }
                        },
                        "habilidades_blandas": {
                            "type": "object",
                            "properties": {
                                "comunicacion": {
                                    "type": "integer",
                                    "minimum": 0,
                                    "maximum": 100
                                },
                                "trabajo_en_equipo": {
                                    "type": "integer",
                                    "minimum": 0,
                                    "maximum": 100
                                },
                                "resolucion_problemas": {
                                    "type": "integer",
                                    "minimum": 0,
                                    "maximum": 100
                                }
                            }
                        },
                        "pitch": {
                            "type": "integer",
                            "minimum": 0,
                            "maximum": 100
                        }
                    }
                }
            }
        },
        "analisis_aprendizaje": {
            "type": "object",
            "properties": {
                "fortalezas": {
                    "type": "array",
                    "items": { "type": "string" },
                    "description": "Tecnologías, habilidades y comportamientos en los que destaca"
                },
                "debilidades": {
                    "type": "array",
                    "items": { "type": "string" },
                    "description": "Áreas técnicas o de soft skills que requieren mejora"
                },
                "oportunidades": {
                    "type": "array",
                    "items": { "type": "string" },
                    "description": "Temas o tecnologías con potencial de crecimiento para el aprendiz"
                },
                "amenazas": {
                    "type": "array",
                    "items": { "type": "string" },
                    "description": "Factores externos que podrían dificultar el aprendizaje"
                },
                
                "progreso_global": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 100,
                    "description": "Progreso estimado en la ruta de aprendizaje"
                },
                "ultima_actualizacion": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Fecha del último análisis"
                },
                "resumen": {
                    "type": "string",
                    "description": "Resumen general del estado de aprendizaje"
                }
            },
            "required": [
                "fortalezas",
                "debilidades",
                "oportunidades",
                "amenazas",
                "progreso_global",
                "ultima_actualizacion",
                "resumen"
            ]
        },
        "roadmap": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "tema": { "type": "string" },
                    "categoria": {
                        "type": "string",
                        "enum": ["tecnico", "habilidad_blanda", "pitch"]
                    },
                    "objetivo": { "type": "string" },
                    "ejercicios_sugeridos": {
                        "type": "array",
                        "items": { "type": "string" }
                    }
                },
                "required": [
                    "tema",
                    "categoria",
                    "objetivo",
                    "ejercicios_sugeridos"
                ]
            }
        }
    },
    "required": [
        "aprendiz",
        "metodo_aprendizaje",
        "analisis_aprendizaje",
        "roadmap",
        "perfil_magnus_base64"
    ]
}
